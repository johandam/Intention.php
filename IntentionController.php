<?php/** * Controller class */class IntentionController{	protected $_baseurl;	protected $_layout;	protected $_script;	protected $_params;	protected $_view;	const CONNECTION = 'http';	public function __construct(IntentionView $view = null)	{		$this->_baseurl = static::CONNECTION . '://' . $_SERVER['HTTP_HOST'] . '/';		if ($view === null)		{			$view = new IntentionView();		}		$this->setView($view);	}	public function redirect($controller, $page = null)	{		$page = ($page === null ?: DIRECTORY_SEPARATOR . $page);		if (func_num_args() > 2)		{			$args = implode(DIRECTORY_SEPARATOR, array_splice(func_get_args(), 2));			$page .= DIRECTORY_SEPARATOR . $args;		}		header('Location: ' . $this->_baseurl . $controller . $page . DIRECTORY_SEPARATOR);		die;	}	public function render($script)	{		$this->_view->_content = $this->_view->render($script);		if ($this->_layout)		{			return $this->_view->render($this->_layout);		}		return $this->_view->_content;	}	public function getView()	{		return $this->_view;	}	public function setView(IntentionView $view)	{		$this->_view = $view;		return $this;	}	public function getLayout()	{		return $this->_layout;	}	public function setLayout($layout)	{		$this->_layout = $layout;		return $this;	}	protected function _getParam($key)	{		return isset($this->_params[$key]) ? $this->_params[$key] : null;	}}